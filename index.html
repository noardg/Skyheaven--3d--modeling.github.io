<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slidy-Board | Fingerboards Without Wheels</title>
<style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f4f4; }
    header { background:#333; color:#fff; padding:20px 0; }
    header h1 { margin:0; font-size:2em; }
    .header-container {
        display:flex;
        justify-content:space-between;
        align-items:center;
        width:90%;
        max-width:1200px;
        margin:0 auto;
    }
    nav a {
        color:#fff;
        text-decoration:none;
        font-weight:bold;
        margin-left:15px;
        padding:8px 12px;
        background:#ff6600;
        border-radius:5px;
    }
    nav a:hover { background:#e65c00; }
    .container { width:90%; max-width:1200px; margin:20px auto; }
    .products { display:grid; grid-template-columns:repeat(auto-fill,minmax(250px,1fr)); gap:20px; }
    .product {
        background:#fff; padding:15px; border-radius:10px;
        box-shadow:0 4px 6px rgba(0,0,0,0.1); text-align:center;
    }
    .product img { max-width:100%; border-radius:10px; }
    .product button {
        background:#ff6600; color:#fff; border:none;
        padding:10px 20px; margin-top:10px; border-radius:5px;
        cursor:pointer; font-weight:bold;
    }
    .product button:hover { background:#e65c00; }
    footer { background:#333; color:#fff; text-align:center; padding:15px 0; margin-top:40px; }
    /* Cart Modal */
    #cartModal {
        display:none; position:fixed; top:0; left:0; width:100%; height:100%;
        background:rgba(0,0,0,0.5); justify-content:center; align-items:center;
    }
    #cartContent {
        background:#fff; padding:20px; border-radius:10px;
        width:90%; max-width:400px; text-align:center;
    }
    #cartItems { margin-top:15px; }
    #cartItems p { margin:5px 0; }
    #logoutBtn { background:#e60000; }
    #logoutBtn:hover { background:#c00000; }
</style>
</head>
<body>
<header>
    <div class="header-container">
        <h1>Slidy-Board</h1>
        <nav id="navLinks">
            <a href="#products">Products</a>
            <a href="signup.html" id="signupLink">Sign Up</a>
            <a href="login.html" id="loginLink">Login</a>
            <a href="#" id="cartBtn">ðŸ›’ Basket (<span id="cartCount">0</span>)</a>
            <a href="#" id="logoutBtn" style="display:none;">Logout</a>
        </nav>
    </div>
</header>

<div class="container" id="products">
    <h2 style="text-align:center;">Our Slidy-Boards</h2>
    <div class="products">
        <div class="product">
            <img src="https://via.placeholder.com/250x150" alt="Classic Slidy-Board">
            <h3>Classic Slidy-Board</h3>
            <p>Perfect for beginners. Smooth sliding action!</p>
            <button onclick="addToCart('Classic Slidy-Board')">Add to Basket</button>
        </div>
        <div class="product">
            <img src="https://via.placeholder.com/250x150" alt="Pro Slidy-Board">
            <h3>Pro Slidy-Board</h3>
            <p>Advanced design for tricks and stunts.</p>
            <button onclick="addToCart('Pro Slidy-Board')">Add to Basket</button>
        </div>
        <div class="product">
            <img src="https://via.placeholder.com/250x150" alt="Mini Slidy-Board">
            <h3>Mini Slidy-Board</h3>
            <p>Compact size, ideal for on-the-go fun.</p>
            <button onclick="addToCart('Mini Slidy-Board')">Add to Basket</button>
        </div>
    </div>
</div>

<!-- Cart Modal -->
<div id="cartModal">
    <div id="cartContent">
        <h3>Your Basket</h3>
        <div id="cartItems"></div>
        <button onclick="checkout()">Checkout</button>
        <button onclick="closeCart()">Close</button>
    </div>
</div>

<footer>
    <p>Contact us: info@slidyboard.com | Follow us on social media!</p>
    <p>&copy; 2025 Slidy-Board. All rights reserved.</p>
</footer>

<script>
const currentUser = JSON.parse(localStorage.getItem('currentUser'));
const signupLink = document.getElementById('signupLink');
const loginLink = document.getElementById('loginLink');
const logoutBtn = document.getElementById('logoutBtn');
const cartBtn = document.getElementById('cartBtn');
const cartCount = document.getElementById('cartCount');
const cartModal = document.getElementById('cartModal');
const cartItemsDiv = document.getElementById('cartItems');

// Hide or show login/signup/logout buttons based on login state
if (currentUser) {
    signupLink.style.display = 'none';
    loginLink.style.display = 'none';
    logoutBtn.style.display = 'inline-block';
} else {
    logoutBtn.style.display = 'none';
}

function logout() {
    localStorage.removeItem('currentUser');
    alert('You have been logged out!');
    window.location.reload();
}
logoutBtn.addEventListener('click', logout);

// --- CART SYSTEM ---
let cart = JSON.parse(localStorage.getItem('cart_' + (currentUser ? currentUser.email : 'guest'))) || [];
updateCartCount();

function addToCart(productName) {
    if (!currentUser) {
        alert('Please log in to add items to your basket.');
        return;
    }
    cart.push(productName);
    localStorage.setItem('cart_' + currentUser.email, JSON.stringify(cart));
    updateCartCount();
    alert(productName + " added to basket!");
}

function updateCartCount() {
    cartCount.textContent = cart.length;
}

cartBtn.addEventListener('click', () => {
    if (!currentUser) {
        alert('Please log in to view your basket.');
        return;
    }
    showCart();
});

function showCart() {
    cartModal.style.display = 'flex';
    renderCartItems();
}

function closeCart() {
    cartModal.style.display = 'none';
}

function renderCartItems() {
    if (cart.length === 0) {
        cartItemsDiv.innerHTML = "<p>Your basket is empty.</p>";
    } else {
        cartItemsDiv.innerHTML = cart.map((item, i) => `<p>${i+1}. ${item}</p>`).join('');
    }
}

function checkout() {
    if (cart.length === 0) {
        alert("Your basket is empty!");
        return;
    }
    alert("Checkout complete! Thanks for shopping with Slidy-Board.");
    cart = [];
    localStorage.setItem('cart_' + currentUser.email, JSON.stringify(cart));
    updateCartCount();
    renderCartItems();
}
</script>
</body>
</html>
