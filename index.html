<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Slidy-Board | Fingerboards Without Wheels</title>
<style>
/* GENERAL */
:root {
  --accent: #ff6600;
  --accent-hover: #e65c00;
  --dark: #222;
  --light: #f5f5f5;
  --white: #fff;
}

body {
  font-family: 'Segoe UI', Arial, sans-serif;
  margin: 0;
  background: var(--light);
  color: var(--dark);
}

/* HEADER */
header {
  background: var(--dark);
  color: var(--white);
  padding: 15px 0;
  position: sticky;
  top: 0;
  z-index: 10;
  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.header-container {
  width: 90%;
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1 {
  margin: 0;
  font-size: 1.8em;
  color: var(--accent);
}

nav a {
  color: var(--white);
  text-decoration: none;
  font-weight: 500;
  margin-left: 20px;
  transition: 0.2s;
}

nav a:hover {
  color: var(--accent);
}

nav .btn {
  background: var(--accent);
  color: var(--white);
  padding: 8px 14px;
  border-radius: 6px;
  font-weight: bold;
}

nav .btn:hover {
  background: var(--accent-hover);
}

/* MAIN CONTENT */
.container {
  width: 90%;
  max-width: 1200px;
  margin: 40px auto;
}

h2 {
  text-align: center;
  margin-bottom: 25px;
  font-size: 2em;
  color: var(--dark);
}

.products {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));
  gap: 25px;
}

.product {
  background: var(--white);
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  text-align: center;
  transition: transform 0.2s;
}

.product:hover {
  transform: translateY(-5px);
}

.product img {
  width: 100%;
  border-radius: 10px;
}

.product h3 {
  margin: 10px 0 5px;
}

.product button {
  background: var(--accent);
  color: var(--white);
  border: none;
  padding: 10px 18px;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.2s;
}

.product button:hover {
  background: var(--accent-hover);
}

/* FOOTER */
footer {
  background: var(--dark);
  color: var(--white);
  text-align: center;
  padding: 20px;
  margin-top: 50px;
}

/* CART MODAL */
#cartModal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  justify-content: center;
  align-items: center;
  z-index: 999;
}

#cartContent {
  background: var(--white);
  border-radius: 15px;
  width: 90%;
  max-width: 500px;
  padding: 25px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  text-align: left;
  animation: pop 0.3s ease;
}

@keyframes pop {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

#cartHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#cartHeader h3 {
  margin: 0;
}

#cartItems {
  margin-top: 15px;
  max-height: 250px;
  overflow-y: auto;
}

.cart-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid #ddd;
}

.cart-item:last-child {
  border-bottom: none;
}

.cart-buttons {
  display: flex;
  justify-content: flex-end;
  margin-top: 20px;
  gap: 10px;
}

.cart-buttons button {
  background: var(--accent);
  color: var(--white);
  border: none;
  padding: 10px 16px;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}

.cart-buttons button:hover {
  background: var(--accent-hover);
}

.cart-buttons .close {
  background: #777;
}

.cart-buttons .close:hover {
  background: #555;
}
</style>
</head>
<body>
<header>
  <div class="header-container">
    <h1>Slidy-Board</h1>
    <nav id="navLinks">
      <a href="#products">Products</a>
      <a href="signup.html" id="signupLink" class="btn">Sign Up</a>
      <a href="login.html" id="loginLink" class="btn">Login</a>
      <a href="#" id="cartBtn">üõí Basket (<span id="cartCount">0</span>)</a>
      <a href="#" id="logoutBtn" class="btn" style="background:#e60000;display:none;">Logout</a>
    </nav>
  </div>
</header>

<div class="container" id="products">
  <h2>Our Slidy-Boards</h2>
  <div class="products">
    <div class="product">
      <img src="https://via.placeholder.com/270x170" alt="Classic Slidy-Board" />
      <h3>Classic Slidy-Board</h3>
      <p>Perfect for beginners. Smooth sliding action!</p>
      <button onclick="addToCart('Classic Slidy-Board', 15)">Add to Basket - $15</button>
    </div>
    <div class="product">
      <img src="https://via.placeholder.com/270x170" alt="better Slidy-Board" />
      <h3>Pro Slidy-Board</h3>
      <p>Advanced design for tricks and stunts.</p>
      <button onclick="addToCart('Pro Slidy-Board', 25)">Add to Basket - $25</button>
    </div>
    <div class="product">
      <img src="https://via.placeholder.com/270x170" alt="Custom Slidy-Board" />
      <h3>Mini Slidy-Board</h3>
      <p>Compact size, ideal for on-the-go fun.</p>
      <button onclick="addToCart('Mini Slidy-Board', 10)">Add to Basket - $10</button>
    </div>
  </div>
</div>

<!-- CART MODAL -->
<div id="cartModal">
  <div id="cartContent">
    <div id="cartHeader">
      <h3>Your Basket</h3>
      <button class="close" onclick="closeCart()">‚úñ</button>
    </div>
    <div id="cartItems"></div>
    <div class="cart-buttons">
      <button onclick="checkout()">Checkout</button>
    </div>
  </div>
</div>

<footer>
  <p>Contact us: info@slidyboard.com | ¬© 2025 Slidy-Board</p>
</footer>

<script>
const currentUser = JSON.parse(localStorage.getItem('currentUser'));
const signupLink = document.getElementById('signupLink');
const loginLink = document.getElementById('loginLink');
const logoutBtn = document.getElementById('logoutBtn');
const cartBtn = document.getElementById('cartBtn');
const cartCount = document.getElementById('cartCount');
const cartModal = document.getElementById('cartModal');
const cartItemsDiv = document.getElementById('cartItems');

if (currentUser) {
  signupLink.style.display = 'none';
  loginLink.style.display = 'none';
  logoutBtn.style.display = 'inline-block';
} else {
  logoutBtn.style.display = 'none';
}

function logout() {
  localStorage.removeItem('currentUser');
  alert('You have been logged out!');
  window.location.reload();
}
logoutBtn.addEventListener('click', logout);

// CART SYSTEM
let cart = JSON.parse(localStorage.getItem('cart_' + (currentUser ? currentUser.email : 'guest'))) || [];
updateCartCount();

function addToCart(productName, price) {
  if (!currentUser) {
    alert('Please log in to add items to your basket.');
    return;
  }
  cart.push({ name: productName, price });
  localStorage.setItem('cart_' + currentUser.email, JSON.stringify(cart));
  updateCartCount();
  alert(productName + " added to basket!");
}

function updateCartCount() {
  cartCount.textContent = cart.length;
}

cartBtn.addEventListener('click', () => {
  if (!currentUser) {
    alert('Please log in to view your basket.');
    return;
  }
  showCart();
});

function showCart() {
  renderCartItems();
  cartModal.style.display = 'flex';
}

function closeCart() {
  cartModal.style.display = 'none';
}

function renderCartItems() {
  if (cart.length === 0) {
    cartItemsDiv.innerHTML = "<p>Your basket is empty.</p>";
  } else {
    const total = cart.reduce((sum, item) => sum + item.price, 0);
    cartItemsDiv.innerHTML = cart
      .map(
        (item, i) => `
        <div class="cart-item">
          <span>${i + 1}. ${item.name}</span>
          <span>$${item.price}</span>
        </div>`
      )
      .join('') +
      `<p style="font-weight:bold; text-align:right; margin-top:10px;">Total: $${total}</p>`;
  }
}

function checkout() {
  if (cart.length === 0) {
    alert("Your basket is empty!");
    return;
  }
  alert("Checkout successful! Thank you for your purchase üõçÔ∏è");
  cart = [];
  localStorage.setItem('cart_' + currentUser.email, JSON.stringify(cart));
  updateCartCount();
  renderCartItems();
}
</script>
</body>
</html>
